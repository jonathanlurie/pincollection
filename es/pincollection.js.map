{"version":3,"file":"pincollection.js","sources":["../src/PinCollection.js"],"sourcesContent":["import * as THREE from 'three'\nimport EventManager from '@jonathanlurie/eventmanager'\n\nconst EVENT_SUFFIX = {\n  DBL_CLICK: '_DOUBLECLICK_EVENT',\n  CLICK: '_CLICK_EVENT',\n  MOVE: '_MOVE_EVENT',\n  LEAVE: '_LEAVE_EVENT'\n}\n\n/**\n * Events expected:\n *\n * - 'onPinCreated': whenever a mesh is loaded. the callback of this event is called with the arg:\n *    @param {THREE.Mesh} mesh - mesh object (of type THREE.Point)\n *    @param {string} id - id of the mesh (as used within this collection)\n *\n * - 'onPinWarning': if a pin is added and the provided id corresponds to an already existing id\n *    @param {String} message - the warning message\n *    @param {String} id - id of the point to be added\n *\n */\nclass PinCollection extends EventManager {\n\n  constructor(threeContext=null){\n    super()\n    let that = this\n    this._threeContext = threeContext\n\n    this._container = new THREE.Object3D()\n    this._container.name = 'meshContainer'\n    this._threeContext.getScene().add(this._container)\n    this._collection = {}\n\n    // // DEBUG\n    // let axesHelper = new THREE.AxesHelper(100)\n    // this._threeContext.getScene().add(axesHelper)\n\n    this._threeContext._raycaster.params.Points.threshold = 500\n\n\n    this._threeContext._renderer.domElement.addEventListener('dblclick', (evt) => {\n      let intersections = that._threeContext.performRaycast({\n        parent: that._container,\n        emitEvent: false\n      })\n      console.log(intersections)\n\n      if(!intersections)\n        return\n\n      let eventName = `${intersections[0].object.name}${EVENT_SUFFIX.DBL_CLICK}`\n      that.emit(eventName, [intersections[0].object.name, intersections[0].point, evt])\n    }, false)\n\n\n    let currentlyHovered = null\n    let throttleDelay = 100\n    let lastMoveTimestamp = 0\n    this._threeContext._renderer.domElement.addEventListener('mousemove', (evt) => {\n\n      let now = Date.now()\n      if((now - lastMoveTimestamp)<=throttleDelay){\n        return\n      }\n      lastMoveTimestamp = now\n\n      let intersections = that._threeContext.performRaycast({\n        parent: that._container,\n        emitEvent: false\n      })\n      // console.log(intersections)\n      that._unHoverAll()\n\n      if(!intersections){\n        that.emit(`${currentlyHovered}${EVENT_SUFFIX.LEAVE}`, [currentlyHovered, evt])\n        currentlyHovered = null\n        return\n      }\n\n      let currentId = intersections[0].object.name\n      if(currentlyHovered && currentlyHovered !== currentId){\n        that.emit(`${currentlyHovered}${EVENT_SUFFIX.LEAVE}`, [currentlyHovered, evt])\n      }\n\n      currentlyHovered = currentId\n      let pin = intersections[0].object\n      pin.userData.hovered = true\n      pin.material.color.addScalar(0.3)\n      pin.material.needsUpdate = true\n      that.emit(`${currentId}${EVENT_SUFFIX.MOVE}`, [currentId, pin.position, evt])\n    }, false)\n\n  }\n\n\n  /**\n   * Is a mesh with such id in the collection?\n   * @return {boolean} true if present in collection, false if not\n   */\n  has(id){\n    return (id in this._collection)\n  }\n\n\n  /**\n   * Show the mesh that has such id\n   */\n  show(id){\n    if(id in this._collection){\n      this._collection[id].visible = true\n    }\n  }\n\n\n  /**\n   * Hide the mesh that has such id\n   */\n  hide(id){\n    if(id in this._collection){\n      this._collection[id].visible = false\n    }\n  }\n\n\n  /**\n   * NOT WORKING FOR NOW\n   */\n  detach(id){\n    if(id in this._collection){\n      // this._container\n      let mesh = this._collection[id]\n      this._container.remove(mesh)\n    }\n  }\n\n\n\n\n\n\n    addPin(position, options = {}){\n      let that = this\n      let id = 'id' in options ? options.id : Math.random().toString().split('.')[1]\n\n      if(id in this._collection){\n        return this.emit('onPinWarning', ['A pin with such id is already loaded.', id])\n      }\n\n      let makeVisible = 'makeVisible' in options ? options.makeVisible : true\n      let color = new THREE.Color('color' in options ? options.color : '#FFFFFF')\n      let size = 'size' in options ? options.size : 1000\n      let constantSize = 'constantSize' in options ? options.constantSize : false\n      let textureUrl = 'textureUrl' in options ? options.textureUrl : null\n\n      if('onDoubleClick' in options){\n        this.on(`${id}${EVENT_SUFFIX.DBL_CLICK}`, options.onDoubleClick)\n      }\n\n      if('onMouseMove' in options){\n        this.on(`${id}${EVENT_SUFFIX.MOVE}`, options.onMouseMove)\n      }\n\n      if('onLeave' in options){\n        this.on(`${id}${EVENT_SUFFIX.LEAVE}`, options.onLeave)\n      }\n\n      let material = new THREE.SpriteMaterial( { color: color } )\n      material.userData.originalColor = color\n      let sprite = null\n      if(textureUrl){\n        let textureLoader = new THREE.TextureLoader()\n        sprite = textureLoader.load(textureUrl)\n      } else {\n        sprite = this._generateStarTexture() // this._generateCircleTexture()\n      }\n      material.map = sprite\n\n      let pin = new THREE.Sprite( material )\n      pin.userData.hovered = false\n      pin.scale.set( size, size, size )\n      pin.position.set(position.x, position.y, position.z)\n\n      pin.name = id\n      pin.visible = makeVisible\n      that._collection[id] = pin\n      that._container.add(pin)\n\n      that.emit('onPinCreated', [pin, id])\n    }\n\n\n  _generateCircleTexture(){\n    let canvas = document.createElement(\"canvas\")\n    canvas.width = 512\n    canvas.height = 512\n    let ctx = canvas.getContext('2d')\n    ctx.beginPath()\n    ctx.arc(256, 256, 254, 0, 2 * Math.PI)\n    ctx.fillStyle = '#FFFFFF'\n    ctx.fill()\n    let texture = new THREE.CanvasTexture(canvas)\n    return texture\n  }\n\n\n  _generateStarTexture(spikes=16, spikiness=0.3){\n    let canvas = document.createElement(\"canvas\")\n    canvas.width = 512\n    canvas.height = 512\n    let ctx = canvas.getContext('2d')\n    let cx = canvas.width / 2\n    let cy = canvas.height / 2\n    let outerRadius = canvas.width / 2\n    let innerRadius = outerRadius * (1 - spikiness)\n    let rot=Math.PI/2*3;\n    let x=cx;\n    let y=cy;\n    let step=Math.PI/spikes;\n\n    ctx.beginPath();\n    ctx.moveTo(cx,cy-outerRadius)\n    for(let i=0;i<spikes;i++){\n      x=cx+Math.cos(rot)*outerRadius;\n      y=cy+Math.sin(rot)*outerRadius;\n      ctx.lineTo(x,y)\n      rot+=step\n\n      x=cx+Math.cos(rot)*innerRadius;\n      y=cy+Math.sin(rot)*innerRadius;\n      ctx.lineTo(x,y)\n      rot+=step\n    }\n    ctx.lineTo(cx,cy-outerRadius);\n    ctx.closePath();\n    //ctx.lineWidth=5;\n    //ctx.strokeStyle='blue';\n    //ctx.stroke();\n    ctx.fillStyle='#ffffff';\n    ctx.fill();\n    let texture = new THREE.CanvasTexture(canvas)\n    return texture\n  }\n\n  /**\n   * Add a callback to a specific pin\n   * @param {string} id - the id of the pin to add a callback to\n   * @param {Function} cb - the callback\n   */\n  addCallback(id, cb){\n    if(id in this._collection){\n      this.on(id, cb)\n    }\n  }\n\n\n  _unHoverAll(){\n    let ids = Object.keys(this._collection)\n    for(let i=0; i<ids.length; i++){\n      let pin = this._collection[ids[i]]\n      if(pin.userData.hovered){\n        pin.userData.hovered = false\n        pin.material.color = pin.material.userData.originalColor.clone()\n        pin.material.needsUpdate = true\n      }\n    }\n  }\n\n}\n\nexport default PinCollection\n"],"names":["THREE.Object3D","THREE.Color","THREE.SpriteMaterial","THREE.TextureLoader","THREE.Sprite","THREE.CanvasTexture"],"mappings":"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"}